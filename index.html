<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siamo Launch Planner</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Noto+Sans+Thai:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Config for Tailwind to support Dark Mode properly -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans Thai', 'sans-serif'],
                    },
                    colors: {
                        red: {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            200: '#fecaca',
                            300: '#fca5a5',
                            400: '#f87171',
                            500: '#ef4444',
                            600: '#dc2626', // Primary Siamo Red
                            700: '#b91c1c',
                            800: '#991b1b',
                            900: '#7f1d1d',
                            950: '#450a0a',
                        },
                        orange: {
                            500: '#f97316', // Gradient Partner
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom scrollbar for timeline */
        .timeline-scroll::-webkit-scrollbar {
            height: 8px;
        }
        .timeline-scroll::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
        }
        .timeline-scroll::-webkit-scrollbar-thumb {
            background: rgba(220, 38, 38, 0.3);
            border-radius: 4px;
        }
        .dark .timeline-scroll::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
        }
        body {
            font-family: 'Inter', 'Noto Sans Thai', sans-serif;
        }
        /* Animation for dropdown */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .dropdown-animate {
            animation: fadeIn 0.2s ease-out forwards;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 transition-colors duration-300">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Icons (Inline SVGs for reliability) ---
        const Icon = ({ path, className }) => (
            <svg 
                xmlns="http://www.w3.org/2000/svg" 
                width="24" 
                height="24" 
                viewBox="0 0 24 24" 
                fill="none" 
                stroke="currentColor" 
                strokeWidth="2" 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                className={className}
            >
                {path}
            </svg>
        );

        const Icons = {
            Flame: (props) => <Icon {...props} path={<><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></>} />,
            Globe: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></>} />,
            Sun: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></>} />,
            Moon: (props) => <Icon {...props} path={<><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></>} />,
            Code: (props) => <Icon {...props} path={<><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></>} />,
            TrendingUp: (props) => <Icon {...props} path={<><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></>} />,
            Briefcase: (props) => <Icon {...props} path={<><rect x="2" y="7" width="20" height="14" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></>} />,
            Calendar: (props) => <Icon {...props} path={<><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></>} />,
            Shield: (props) => <Icon {...props} path={<><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></>} />,
            Save: (props) => <Icon {...props} path={<><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></>} />,
            Plus: (props) => <Icon {...props} path={<><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></>} />,
            Trash2: (props) => <Icon {...props} path={<><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></>} />,
            ChevronDown: (props) => <Icon {...props} path={<><polyline points="6 9 12 15 18 9"/></>} />
        };

        // --- Translations ---
        const translations = {
            en: {
                title: "Siamo Launch Strategy",
                subtitle: "Speed is Key in the AI Era",
                dev_view: "Developer Perspective: Lean & AI-First",
                dev_desc: "Use No-Code/Low-Code to speed up Step 2. Don't wait for Step 1 to finish completely. Automate the \"boring\" tasks with AI Agents immediately.",
                investor_view: "Investor Perspective: The Moat",
                investor_desc_prefix: "The Moat Strategy:",
                investor_desc: "By integrating into daily operations (bills, TM30, repairs), we lock users in with service quality, making switching painful. Focus on Unit Economics and Retention.",
                operator_view: "Operator Perspective: Workflow Reality",
                operator_desc: "Prioritize \"Pain Killers\" like TM30 & Bill Management. Manual workflow first ensures the software solves real problems, not imaginary ones.",
                timeline: "Interactive Timeline Plan",
                auto_save: "Real-time Auto-save enabled",
                save_btn: "Save",
                save_success: "Saved!",
                add_step: "Add New Step",
                step_title_label: "Title",
                placeholder_title: "Step Title",
                placeholder_desc: "Description of this phase...",
                start_date: "Start Date",
                end_date: "End Date",
                status_pending: "Pending",
                status_progress: "In Progress",
                status_completed: "Completed",
                footer_text: "¬© 2024 Siamo Strategy Planner. Built for Speed & Scale.",
                q1: "Q1", q2: "Q2", q3: "Q3", q4: "Q4"
            },
            th: {
                title: "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏±‡∏ß Siamo",
                subtitle: "‡∏¢‡∏∏‡∏Ñ AI ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡∏Ñ‡∏∑‡∏≠‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô",
                dev_view: "‡∏°‡∏∏‡∏°‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤: ‡πÄ‡∏ô‡πâ‡∏ô Lean ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ AI",
                dev_desc: "‡πÉ‡∏ä‡πâ No-Code/Low-Code ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡πà‡∏á Step 2 ‡∏≠‡∏¢‡πà‡∏≤‡∏£‡∏≠‡πÉ‡∏´‡πâ Step 1 ‡∏à‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå ‡πÉ‡∏ä‡πâ AI Agents ‡∏ä‡πà‡∏ß‡∏¢‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ã‡πâ‡∏≥‡∏ã‡∏≤‡∏Å (Boring tasks) ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
                investor_view: "‡∏°‡∏∏‡∏°‡∏ô‡∏±‡∏Å‡∏•‡∏á‡∏ó‡∏∏‡∏ô: ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡πÄ‡∏°‡∏∑‡∏≠‡∏á (Moat)",
                investor_desc_prefix: "‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏π‡πÄ‡∏°‡∏∑‡∏≠‡∏á:",
                investor_desc: "‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á Operation (‡∏ö‡∏¥‡∏•, TM30) ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏°‡∏±‡∏î‡πÉ‡∏à‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏Ñ‡πà‡πÄ‡∏õ‡πá‡∏ô Marketplace ‡∏ò‡∏£‡∏£‡∏°‡∏î‡∏≤ ‡πÄ‡∏ô‡πâ‡∏ô Unit Economics ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤",
                operator_view: "‡∏°‡∏∏‡∏°‡∏ú‡∏π‡πâ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£: ‡πÇ‡∏•‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á",
                operator_desc: "‡πÄ‡∏ô‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏à‡πá‡∏ö‡∏õ‡∏ß‡∏î (Pain Killers) ‡πÄ‡∏ä‡πà‡∏ô TM30 ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏• ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏°‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á",
                timeline: "‡πÅ‡∏ú‡∏ô‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏ó‡∏°‡πå‡πÑ‡∏•‡∏ô‡πå (‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ)",
                auto_save: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà",
                save_btn: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å",
                save_success: "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!",
                add_step: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà",
                step_title_label: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠",
                placeholder_title: "‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô",
                placeholder_desc: "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ...",
                start_date: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°",
                end_date: "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î",
                status_pending: "‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£",
                status_progress: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£",
                status_completed: "‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå",
                footer_text: "¬© 2024 Siamo Strategy Planner. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ï‡∏±‡∏ß",
                q1: "Q1", q2: "Q2", q3: "Q3", q4: "Q4"
            },
            ru: {
                title: "–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–ø—É—Å–∫–∞ Siamo",
                subtitle: "–°–∫–æ—Ä–æ—Å—Ç—å ‚Äî –∫–ª—é—á –∫ —É—Å–ø–µ—Ö—É –≤ —ç—Ä—É –ò–ò",
                dev_view: "–í–∑–≥–ª—è–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞: Lean –∏ AI",
                dev_desc: "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ No-Code/Low-Code –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —à–∞–≥–∞ 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —Ä—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –ø–æ–º–æ—â—å—é –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ.",
                investor_view: "–í–∑–≥–ª—è–¥ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞: –ó–∞—â–∏—Ç–Ω—ã–π —Ä–æ–≤",
                investor_desc_prefix: "–°—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞—â–∏—Ç—ã:",
                investor_desc: "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (—Å—á–µ—Ç–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã) —É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤ –ª—É—á—à–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ. –§–æ–∫—É—Å –Ω–∞ Unit Economics.",
                operator_view: "–í–∑–≥–ª—è–¥ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞: –†–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã",
                operator_desc: "–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç ¬´–ë–æ–ª–µ—É—Ç–æ–ª—è—é—â–∏–º¬ª, —Ç–∞–∫–∏–º –∫–∞–∫ TM30 –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç–∞–º–∏. –†—É—á–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.",
                timeline: "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω",
                auto_save: "–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ",
                save_btn: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
                save_success: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!",
                add_step: "–î–æ–±–∞–≤–∏—Ç—å —à–∞–≥",
                step_title_label: "–ù–∞–∑–≤–∞–Ω–∏–µ",
                placeholder_title: "–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞",
                placeholder_desc: "–û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞...",
                start_date: "–ù–∞—á–∞–ª–æ",
                end_date: "–ö–æ–Ω–µ—Ü",
                status_pending: "–í –æ–∂–∏–¥–∞–Ω–∏–∏",
                status_progress: "–í –ø—Ä–æ—Ü–µ—Å—Å–µ",
                status_completed: "–ó–∞–≤–µ—Ä—à–µ–Ω–æ",
                footer_text: "¬© 2024 Siamo Strategy Planner. –°–æ–∑–¥–∞–Ω–æ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è.",
                q1: "–ö–≤ 1", q2: "–ö–≤ 2", q3: "–ö–≤ 3", q4: "–ö–≤ 4"
            }
        };

        const initialSteps = [
            {
                id: '1',
                title: "Manual Management (The Boring Step)",
                description: "Hire manager, manage one unit manually (Airbnb/Long-term) to test workflows.",
                startDate: "2024-01-01",
                endDate: "2024-03-31",
                status: 'completed'
            },
            {
                id: '2',
                title: "Develop MVP Software",
                description: "Build essential features: Contracts, TM30, Bill management. Onboard first users.",
                startDate: "2024-02-15",
                endDate: "2024-05-30",
                status: 'in_progress'
            },
            {
                id: '3',
                title: "Payment System Integration",
                description: "Refine UX/UI, add payment gateway, test with real landlords/tenants.",
                startDate: "2024-06-01",
                endDate: "2024-08-31",
                status: 'pending'
            },
            {
                id: '4',
                title: "Launch Marketplace & Scale",
                description: "Public launch, marketing, show traction to big players/investors.",
                startDate: "2024-09-01",
                endDate: "2024-12-31",
                status: 'pending'
            }
        ];

        // --- Main Component ---
        function SiamoLaunchPlanner() {
            const [lang, setLang] = useState('th');
            const [darkMode, setDarkMode] = useState(false);
            const [steps, setSteps] = useState(initialSteps);
            const [showSaveMsg, setShowSaveMsg] = useState(false);
            const [isLangMenuOpen, setIsLangMenuOpen] = useState(false);

            const t = translations[lang];

            // Load data and preferences
            useEffect(() => {
                const savedSteps = localStorage.getItem('siamo_steps');
                if (savedSteps) {
                    setSteps(JSON.parse(savedSteps));
                }
                
                // Load saved language
                const savedLang = localStorage.getItem('siamo_lang');
                if (savedLang && ['en', 'th', 'ru'].includes(savedLang)) {
                    setLang(savedLang);
                }

                if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    setDarkMode(true);
                }
            }, []);

            // Save steps
            useEffect(() => {
                localStorage.setItem('siamo_steps', JSON.stringify(steps));
            }, [steps]);

            // Save language preference
            useEffect(() => {
                localStorage.setItem('siamo_lang', lang);
            }, [lang]);

            useEffect(() => {
                if (darkMode) {
                    document.documentElement.classList.add('dark');
                    document.body.classList.add('bg-gray-950');
                    document.body.classList.remove('bg-gray-50');
                } else {
                    document.documentElement.classList.remove('dark');
                    document.body.classList.add('bg-gray-50');
                    document.body.classList.remove('bg-gray-950');
                }
            }, [darkMode]);

            const changeLanguage = (newLang) => {
                setLang(newLang);
                setIsLangMenuOpen(false);
            };

            const handleStepChange = (id, field, value) => {
                setSteps(steps.map(step => 
                    step.id === id ? { ...step, [field]: value } : step
                ));
            };

            const addStep = () => {
                const lastDate = steps[steps.length - 1]?.endDate || new Date().toISOString().split('T')[0];
                const nextDate = new Date(lastDate);
                nextDate.setMonth(nextDate.getMonth() + 1);
                
                const newStep = {
                    id: Date.now().toString(),
                    title: t.placeholder_title,
                    description: "",
                    startDate: lastDate,
                    endDate: nextDate.toISOString().split('T')[0],
                    status: 'pending'
                };
                setSteps([...steps, newStep]);
            };

            const removeStep = (id) => {
                setSteps(steps.filter(step => step.id !== id));
            };

            const handleManualSave = () => {
                localStorage.setItem('siamo_steps', JSON.stringify(steps));
                setShowSaveMsg(true);
                setTimeout(() => setShowSaveMsg(false), 2000);
            };

            const getQuarter = (dateString) => {
                const date = new Date(dateString);
                const month = date.getMonth() + 1;
                const year = date.getFullYear().toString().substr(-2);
                
                let qText = t.q4;
                if (month <= 3) qText = t.q1;
                else if (month <= 6) qText = t.q2;
                else if (month <= 9) qText = t.q3;
                
                return `${qText} '${year}`;
            };

            const calculateDurationWidth = (start, end, minDate, totalDuration) => {
                const s = new Date(start).getTime();
                const e = new Date(end).getTime();
                const left = ((s - minDate) / totalDuration) * 100;
                const width = ((e - s) / totalDuration) * 100;
                return { left: `${left}%`, width: `${width}%` };
            };

            const minDate = Math.min(...steps.map(s => new Date(s.startDate).getTime()));
            const maxDate = Math.max(...steps.map(s => new Date(s.endDate).getTime()));
            const paddedMin = minDate - (1000 * 60 * 60 * 24 * 15); 
            const paddedMax = maxDate + (1000 * 60 * 60 * 24 * 15);
            const totalDuration = paddedMax - paddedMin;

            return (
                <div className={`min-h-screen transition-colors duration-300 ${darkMode ? 'text-gray-100' : 'text-gray-900'}`} onClick={() => isLangMenuOpen && setIsLangMenuOpen(false)}>
                    
                    {/* Navbar */}
                    <nav className="sticky top-0 z-50 backdrop-blur-md bg-white/80 dark:bg-gray-900/80 border-b border-gray-200 dark:border-red-900/30">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center h-16">
                                <div className="flex items-center gap-2">
                                    <div className="bg-red-600 p-2 rounded-lg shadow-lg shadow-red-500/30">
                                        <Icons.Flame className="text-white h-5 w-5" />
                                    </div>
                                    <span className="font-bold text-2xl tracking-tighter hidden sm:block">
                                        Siamo
                                    </span>
                                </div>

                                <div className="flex items-center gap-4">
                                    {/* Language Dropdown (Click based) */}
                                    <div className="relative" onClick={(e) => e.stopPropagation()}>
                                        <button 
                                            onClick={() => setIsLangMenuOpen(!isLangMenuOpen)}
                                            className="flex items-center gap-1 text-sm font-medium hover:text-red-500 transition-colors px-3 py-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800"
                                        >
                                            <Icons.Globe className="h-4 w-4" />
                                            {lang.toUpperCase()}
                                            <Icons.ChevronDown className={`h-3 w-3 ml-1 transition-transform ${isLangMenuOpen ? 'rotate-180' : ''}`} />
                                        </button>
                                        
                                        {isLangMenuOpen && (
                                            <div className="absolute right-0 mt-2 w-32 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 z-50 dropdown-animate overflow-hidden">
                                                <button onClick={() => changeLanguage('en')} className="block w-full text-left px-4 py-3 text-sm hover:bg-red-50 dark:hover:bg-gray-700 hover:text-red-600 transition-colors">English</button>
                                                <button onClick={() => changeLanguage('th')} className="block w-full text-left px-4 py-3 text-sm hover:bg-red-50 dark:hover:bg-gray-700 hover:text-red-600 transition-colors">‡πÑ‡∏ó‡∏¢</button>
                                                <button onClick={() => changeLanguage('ru')} className="block w-full text-left px-4 py-3 text-sm hover:bg-red-50 dark:hover:bg-gray-700 hover:text-red-600 transition-colors">–†—É—Å—Å–∫–∏–π</button>
                                            </div>
                                        )}
                                    </div>

                                    <button 
                                        onClick={() => setDarkMode(!darkMode)}
                                        className="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors"
                                    >
                                        {darkMode ? <Icons.Sun className="h-5 w-5 text-orange-400" /> : <Icons.Moon className="h-5 w-5 text-gray-600" />}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </nav>

                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">
                        
                        {/* Header */}
                        <div className="text-center space-y-4">
                            <h1 className="text-5xl sm:text-6xl font-extrabold tracking-tight pb-2">
                                <span className="bg-gradient-to-r from-red-600 via-red-500 to-orange-500 bg-clip-text text-transparent">
                                    {t.title}
                                </span>
                            </h1>
                            <p className="text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                                {t.subtitle}
                            </p>
                        </div>

                        {/* Analysis Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                            {/* Dev View */}
                            <div className="p-6 rounded-2xl bg-white dark:bg-gray-900 shadow-xl shadow-red-100/20 dark:shadow-none border border-gray-100 dark:border-gray-800 hover:border-red-500 dark:hover:border-red-500 transition-all duration-300 group">
                                <div className="h-12 w-12 bg-red-50 dark:bg-red-900/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-red-100 dark:group-hover:bg-red-900/40 transition-colors">
                                    <Icons.Code className="h-6 w-6 text-red-600 dark:text-red-400" />
                                </div>
                                <h3 className="text-xl font-bold mb-2 group-hover:text-red-600 dark:group-hover:text-red-400 transition-colors">{t.dev_view}</h3>
                                <p className="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                                    {t.dev_desc}
                                </p>
                            </div>

                            {/* Investor View */}
                            <div className="p-6 rounded-2xl bg-white dark:bg-gray-900 shadow-xl shadow-orange-100/20 dark:shadow-none border border-gray-100 dark:border-gray-800 hover:border-orange-500 dark:hover:border-orange-500 transition-all duration-300 relative overflow-hidden group">
                                <div className="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-orange-500 opacity-10 rounded-full blur-2xl group-hover:opacity-20 transition-opacity"></div>
                                <div className="h-12 w-12 bg-orange-50 dark:bg-orange-900/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-orange-100 dark:group-hover:bg-orange-900/40 transition-colors">
                                    <Icons.TrendingUp className="h-6 w-6 text-orange-600 dark:text-orange-400" />
                                </div>
                                <h3 className="text-xl font-bold mb-2 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors">{t.investor_view}</h3>
                                <p className="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                                    <strong>{t.investor_desc_prefix}</strong> {t.investor_desc}
                                </p>
                            </div>

                            {/* Operator View */}
                            <div className="p-6 rounded-2xl bg-white dark:bg-gray-900 shadow-xl shadow-gray-100/20 dark:shadow-none border border-gray-100 dark:border-gray-800 hover:border-gray-500 dark:hover:border-gray-400 transition-all duration-300 group">
                                <div className="h-12 w-12 bg-gray-100 dark:bg-gray-800 rounded-xl flex items-center justify-center mb-4 group-hover:bg-gray-200 dark:group-hover:bg-gray-700 transition-colors">
                                    <Icons.Briefcase className="h-6 w-6 text-gray-700 dark:text-gray-300" />
                                </div>
                                <h3 className="text-xl font-bold mb-2 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors">{t.operator_view}</h3>
                                <p className="text-gray-500 dark:text-gray-400 text-sm leading-relaxed">
                                    {t.operator_desc}
                                </p>
                            </div>
                        </div>

                        {/* Timeline Section */}
                        <div className="space-y-6">
                            <div className="flex justify-between items-end border-b border-gray-200 dark:border-gray-800 pb-4">
                                <div>
                                    <h2 className="text-2xl font-bold flex items-center gap-2">
                                        <Icons.Calendar className="h-6 w-6 text-red-600" />
                                        {t.timeline}
                                    </h2>
                                    <p className="text-sm text-gray-500 mt-1 flex items-center gap-1">
                                        <Icons.Shield className="h-3 w-3" /> {t.auto_save}
                                    </p>
                                </div>
                                <div className="flex gap-2">
                                    <button 
                                        onClick={handleManualSave}
                                        className="flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors text-sm font-medium"
                                    >
                                        <Icons.Save className="h-4 w-4" />
                                        {showSaveMsg ? <span className="text-green-600">{t.save_success}</span> : t.save_btn}
                                    </button>
                                    <button 
                                        onClick={addStep}
                                        className="flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors text-sm font-medium shadow-lg shadow-red-500/30"
                                    >
                                        <Icons.Plus className="h-4 w-4" />
                                        {t.add_step}
                                    </button>
                                </div>
                            </div>

                            {/* Gantt Chart */}
                            <div className="bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-gray-200 dark:border-gray-800 p-6 overflow-x-auto timeline-scroll">
                                <div className="flex border-b border-gray-200 dark:border-gray-800 pb-2 mb-4 text-xs text-gray-400 font-mono">
                                    {Array.from({length: 6}).map((_, i) => {
                                        const date = new Date(paddedMin + (totalDuration / 5) * i);
                                        const dateLocale = lang === 'th' ? 'th-TH' : lang === 'ru' ? 'ru-RU' : 'en-US';
                                        return (
                                            <div key={i} className="flex-1 border-l border-gray-100 dark:border-gray-800 pl-1">
                                                {date.toLocaleString(dateLocale, { month: 'short', year: '2-digit' })}
                                            </div>
                                        )
                                    })}
                                </div>

                                <div className="space-y-4 relative min-w-[600px]">
                                    {steps.map((step, index) => {
                                        const { left, width } = calculateDurationWidth(step.startDate, step.endDate, paddedMin, totalDuration);
                                        return (
                                            <div key={step.id} className="relative h-12 flex items-center group">
                                                <div className="absolute inset-0 border-b border-gray-100 dark:border-gray-800/50 pointer-events-none"></div>
                                                <div 
                                                    className="absolute h-8 rounded-lg bg-gradient-to-r from-red-600 to-orange-500 opacity-80 group-hover:opacity-100 transition-all cursor-pointer shadow-sm flex items-center px-3 hover:shadow-red-500/20"
                                                    style={{ left, width }}
                                                    title={`${step.startDate} to ${step.endDate}`}
                                                >
                                                    <span className="text-xs font-bold text-white whitespace-nowrap overflow-hidden text-ellipsis">
                                                        {index + 1}. {step.title}
                                                    </span>
                                                </div>
                                                <div className="absolute text-[10px] text-gray-400 -top-1" style={{ left }}>
                                                    {getQuarter(step.startDate)}
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>

                            {/* Edit List */}
                            <div className="space-y-4">
                                {steps.map((step, index) => (
                                    <div 
                                        key={step.id} 
                                        className="group bg-white dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 hover:border-red-300 dark:hover:border-red-800 transition-all shadow-sm hover:shadow-md"
                                    >
                                        <div className="grid grid-cols-1 lg:grid-cols-12 gap-6 items-start">
                                            <div className="lg:col-span-1 flex flex-col items-center justify-center pt-2">
                                                <div className="h-8 w-8 rounded-full bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-300 flex items-center justify-center font-bold">
                                                    {index + 1}
                                                </div>
                                                <div className="h-full w-0.5 bg-gray-100 dark:bg-gray-800 mt-4 group-last:hidden"></div>
                                            </div>

                                            <div className="lg:col-span-7 space-y-4">
                                                <div>
                                                    <label className="block text-xs font-semibold text-gray-400 uppercase tracking-wider mb-1">
                                                        {t.step} {t.step_title_label}
                                                    </label>
                                                    <input 
                                                        type="text" 
                                                        value={step.title}
                                                        onChange={(e) => handleStepChange(step.id, 'title', e.target.value)}
                                                        className="w-full text-lg font-bold bg-transparent border-b border-transparent hover:border-gray-300 focus:border-red-500 focus:outline-none transition-colors pb-1 text-gray-900 dark:text-white placeholder-gray-400"
                                                        placeholder={t.placeholder_title}
                                                    />
                                                </div>
                                                <div>
                                                    <input 
                                                        type="text" 
                                                        value={step.description}
                                                        onChange={(e) => handleStepChange(step.id, 'description', e.target.value)}
                                                        className="w-full text-sm text-gray-500 dark:text-gray-400 bg-transparent border-b border-transparent hover:border-gray-300 focus:border-red-500 focus:outline-none transition-colors pb-1 placeholder-gray-500"
                                                        placeholder={t.placeholder_desc}
                                                    />
                                                </div>
                                            </div>

                                            <div className="lg:col-span-4 grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-xs text-gray-500 mb-1">{t.start_date}</label>
                                                    <input 
                                                        type="date" 
                                                        value={step.startDate}
                                                        onChange={(e) => handleStepChange(step.id, 'startDate', e.target.value)}
                                                        className="w-full bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-500 outline-none hover:border-red-200 dark:hover:border-red-900 text-gray-900 dark:text-white"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-xs text-gray-500 mb-1">{t.end_date}</label>
                                                    <input 
                                                        type="date" 
                                                        value={step.endDate}
                                                        onChange={(e) => handleStepChange(step.id, 'endDate', e.target.value)}
                                                        className="w-full bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-red-500 outline-none hover:border-red-200 dark:hover:border-red-900 text-gray-900 dark:text-white"
                                                    />
                                                </div>

                                                <div className="col-span-2 flex justify-between items-center mt-2">
                                                    <select 
                                                        value={step.status}
                                                        onChange={(e) => handleStepChange(step.id, 'status', e.target.value)}
                                                        className="bg-transparent text-sm font-medium text-gray-600 dark:text-gray-300 border-none focus:ring-0 cursor-pointer hover:text-red-500"
                                                    >
                                                        <option value="pending">‚è≥ {t.status_pending}</option>
                                                        <option value="in_progress">üî• {t.status_progress}</option>
                                                        <option value="completed">‚úÖ {t.status_completed}</option>
                                                    </select>
                                                    
                                                    <button 
                                                        onClick={() => removeStep(step.id)}
                                                        className="text-gray-400 hover:text-red-500 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors"
                                                        title="Remove Step"
                                                    >
                                                        <Icons.Trash2 className="h-4 w-4" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>

                    </main>
                    <footer className="max-w-7xl mx-auto px-4 py-8 text-center text-gray-400 text-sm">
                        <p>{t.footer_text}</p>
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SiamoLaunchPlanner />);
    </script>
</body>
</html>
